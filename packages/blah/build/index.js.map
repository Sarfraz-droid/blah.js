{"mappings":";;;;;;;;;;AGAO,IAAI;AACV,CAAA,SAAU,UAAU,EAAE;IACnB,UAAU,CAAC,aAAa,GAAG;IAC3B,UAAU,CAAC,UAAU,GAAG;IACxB,UAAU,CAAC,aAAa,GAAG;IAC3B,UAAU,CAAC,cAAc,GAAG;IAC5B,UAAU,CAAC,sBAAsB,GAAG;IACpC,UAAU,CAAC,QAAQ,GAAG;AAC1B,CAAA,EAAG,6CAAe,CAAA,4CAAa,CAAC,CAAA;AACzB,MAAM;IACT,aAAc,CACd;IACA,OAAO,WAAW,SAAS,EAAE;QACzB,MAAM,IAAI,MAAM,WAAW;IAC/B;AACJ;;ADfA;AEAA;ACAO,MAAM;IACT,YAAY,KAAK,EAAE,IAAI,EAAE,GAAG,CAAE;QAC1B,IAAI,CAAC,KAAK,GAAG;QACb,IAAI,CAAC,IAAI,GAAG;QACZ,IAAI,CAAC,GAAG,GAAG;QACX,IAAI,CAAC,IAAI,CAAC,MAAM,CAAC,SAAS,CAAC,IAAI,CAAC,GAAG,EAAE,IAAI;QACzC,IAAI,CAAC,KAAK,GAAG;IACjB;IACA,IAAI,OAAO;QACP,OAAO,IAAI,CAAC,KAAK;IACrB;IACA,YAAY,CAAC,GAAG,KAAK,EAAE;QACnB,IAAI,CAAC,KAAK,IAAI;IAClB;IACA,IAAI,KAAK,KAAK,EAAE;QACZ,IAAI,CAAC,QAAQ,CAAC;QACd,IAAI,CAAC,IAAI,CAAC,MAAM,CAAC,SAAS,CAAC,IAAI,CAAC,GAAG,EAAE,IAAI;QACzC,QAAQ,GAAG,CAAC;QACZ,QAAQ,GAAG,CAAC,IAAI,CAAC,EAAE,EAAE,IAAI,CAAC,KAAK,EAAE;QACjC,QAAQ,GAAG,CAAC;IAChB;IACA,IAAI,KAAK;QACL,OAAO,IAAI,CAAC,GAAG;IACnB;IACA,SAAS,KAAK,EAAE;QACZ,IAAI,CAAC,KAAK,GAAG;QACb,IAAI,CAAC,IAAI,CAAC,gBAAgB,CAAC,GAAG,CAAC,IAAI,CAAC,GAAG;IAC3C;AACJ;;;AD1BA,MAAM;IACF,OAAO,MAAM,OAAO,EAAE,IAAI,EAAE;QACxB,QAAQ,GAAG,CAAC,2BAA2B,SAAS;QAChD,0CAAkB,cAAc,CAAC,SAAS;QAC1C,0CAAkB,aAAa,CAAC,SAAS;IAC7C;IACA,OAAO,sBAAsB,MAAM,EAAE;QACjC,MAAM,UAAU,CAAA,GAAA,gCAAM,AAAD,EAAE,kBAAkB,CAAC;IAC9C;IACA,OAAO,eAAe,OAAO,EAAE,IAAI,EAAE;QACjC,MAAM,aAAa,QAAQ,UAAU;QACrC,QAAQ,GAAG,CAAC,SAAS;QACrB,IAAK,IAAI,IAAI,GAAG,IAAI,WAAW,MAAM,EAAE,IAAK;YACxC,IAAI,aAAa,UAAU,CAAC,EAAE,CAAC,IAAI;YACnC,IAAI,cAAc,UAAU,CAAC,EAAE,CAAC,KAAK;YACrC,IAAI,WAAW,UAAU,CAAC,MAAM;gBAC5B,IAAI,YAAY,WAAW,OAAO,CAAC,KAAK;gBACxC,QAAQ,GAAG,CAAC,WAAW;gBACvB,QAAQ,gBAAgB,CAAC,WAAW,CAAC,IAAM;oBACvC,QAAQ,GAAG,CAAC;oBACZ,QAAQ,GAAG,CAAC;oBACZ,MAAM,QAAQ,KAAK,MAAM,CAAC,SAAS,CAAC,YAAY,IAAI;oBACpD,IAAI,iBAAiB,CAAA,GAAA,yCAAa,GAAG;wBACjC,QAAQ,GAAG,CAAC;wBACZ,MAAM,WAAW,CAAC;4BACd;yBACH;oBACL,CAAC;oBACD,CAAA,GAAA,gCAAK,EAAE,SAAS,CAAC;gBACrB;YACJ,CAAC;YACD,MAAM,WAAW,YAAY,KAAK,CAAC,IAAI,CAAC,aAAa;YACrD,QAAQ,GAAG,CAAC;YACZ,IAAI,YAAY,IAAI,EAAE;gBAClB,SAAS,OAAO,CAAC,CAAC,WAAa;oBAC3B,IAAI,IAAI,IAAI;oBACZ,MAAM,eAAe,SAAS,OAAO,CAAC,IAAI,CAAC,aAAa,EAAE;oBAC1D,MAAM,gBAAgB,KAAK,MAAM,CAAC,SAAS,CAAC,aAAa,IAAI;oBAC7D,cAAc,YAAY,OAAO,CAAC,UAAU,AAAC,CAAA,KAAK,AAAC,CAAA,KAAK,kBAAkB,IAAI,IAAI,kBAAkB,KAAK,IAAI,KAAK,IAAI,cAAc,IAAI,AAAD,MAAO,IAAI,IAAI,OAAO,KAAK,IAAI,KAAK,IAAI,GAAG,QAAQ,EAAE,AAAD,MAAO,IAAI,IAAI,OAAO,KAAK,IAAI,KAAK,EAAE;oBACjO,KAAK,MAAM,CAAC,eAAe,CAAC,aAAa,IAAI,IAAI,AAAC,CAAA,KAAK,QAAQ,YAAY,CAAC,UAAS,MAAO,IAAI,IAAI,OAAO,KAAK,IAAI,KAAK,EAAE;gBAC/H;gBACA,QAAQ,YAAY,CAAC,YAAY;YACrC,CAAC;QACL;IACJ;IACA,OAAO,cAAc,OAAO,EAAE,IAAI,EAAE;QAChC,IAAI;QACJ,MAAM,WAAW,QAAQ,UAAU,CAAC,EAAE;QACtC,IAAI,AAAC,CAAA,aAAa,IAAI,IAAI,aAAa,KAAK,IAAI,KAAK,IAAI,SAAS,QAAQ,AAAD,KAAM,KAAK,SAAS,EACzF;QAEJ,IAAI,OAAO,AAAC,CAAA,KAAK,SAAS,WAAW,AAAD,MAAO,IAAI,IAAI,OAAO,KAAK,IAAI,KAAK,EAAE;QAC1E,MAAM,WAAW,KAAK,KAAK,CAAC,IAAI,CAAC,aAAa;QAC9C,QAAQ,GAAG,CAAC;QACZ,IAAI,YAAY,IAAI,EAChB,SAAS,OAAO,CAAC,CAAC,WAAa;YAC3B,IAAI,IAAI,IAAI;YACZ,MAAM,eAAe,SAAS,OAAO,CAAC,IAAI,CAAC,aAAa,EAAE;YAC1D,MAAM,gBAAgB,KAAK,MAAM,CAAC,SAAS,CAAC,aAAa,IAAI;YAC7D,QAAQ,GAAG,CAAC,cAAc,eAAe,KAAK,MAAM;YACpD,OAAO,KAAK,OAAO,CAAC,UAAU,AAAC,CAAA,KAAK,AAAC,CAAA,KAAK,kBAAkB,IAAI,IAAI,kBAAkB,KAAK,IAAI,KAAK,IAAI,cAAc,IAAI,AAAD,MAAO,IAAI,IAAI,OAAO,KAAK,IAAI,KAAK,IAAI,GAAG,QAAQ,EAAE,AAAD,MAAO,IAAI,IAAI,OAAO,KAAK,IAAI,KAAK,EAAE;YACnN,QAAQ,GAAG,CAAC;YACZ,KAAK,MAAM,CAAC,eAAe,CAAC,aAAa,IAAI,IAAI,AAAC,CAAA,KAAK,QAAQ,YAAY,CAAC,UAAS,MAAO,IAAI,IAAI,OAAO,KAAK,IAAI,KAAK,EAAE;QAC/H;QAEJ,SAAS,WAAW,GAAG;IAC3B;AACJ;AACA,0CAAkB,aAAa,GAAG;AAClC,0CAAkB,YAAY,GAAG;;;AEvEjC;AACA,IAAI;AACH,CAAA,SAAU,oBAAoB,EAAE;IAC7B,oBAAoB,CAAC,QAAQ,GAAG;IAChC,oBAAoB,CAAC,WAAW,GAAG;IACnC,oBAAoB,CAAC,SAAS,GAAG;IACjC,oBAAoB,CAAC,SAAS,GAAG;AACrC,CAAA,EAAG,8CAAyB,CAAA,6CAAuB,CAAC,CAAA;AAC7C,MAAM;IACT,OAAO,mBAAmB;QACtB,OAAO,SAAS,aAAa;IACjC;IACA,OAAO,oBAAoB,EAAE,EAAE,KAAK,EAAE,IAAI,EAAE;QACxC,MAAM,UAAU,CAAA,GAAA,gCAAM,AAAD,EAAE,kBAAkB,CAAC;QAC1C,QAAQ,KAAK;QACb,OAAQ,QAAQ,OAAO;YACnB,KAAK,2CAAqB,QAAQ;YAClC,KAAK,2CAAqB,KAAK;gBAC3B,0CAAc,WAAW,CAAC,SAAS;gBACnC,KAAM;YACV;gBACI,KAAM;QACd;IACJ;IACA,OAAO,YAAY,OAAO,EAAE,KAAK,EAAE;QAC/B,oBAAoB;QACpB,MAAM,gBAAgB,MAAM,cAAc;QAC1C,QAAQ,iBAAiB,CAAC,eAAe;QACzC,QAAQ,GAAG,CAAC;QACZ,QAAQ,GAAG,CAAC,QAAQ,cAAc,EAAE,QAAQ,YAAY;QACxD,QAAQ,GAAG,CAAC;IAChB;AACJ;;;;;;AChCA;;;;ACAA,IAAI,kCAAY,aAAS,UAAK,SAAS,IAAK,SAAU,OAAO,EAAE,UAAU,EAAE,CAAC,EAAE,SAAS,EAAE;IACrF,SAAS,MAAM,KAAK,EAAE;QAAE,OAAO,iBAAiB,IAAI,QAAQ,IAAI,EAAE,SAAU,OAAO,EAAE;YAAE,QAAQ;QAAQ,EAAE;IAAE;IAC3G,OAAO,IAAK,CAAA,KAAM,CAAA,IAAI,OAAM,CAAC,EAAG,SAAU,OAAO,EAAE,MAAM,EAAE;QACvD,SAAS,UAAU,KAAK,EAAE;YAAE,IAAI;gBAAE,KAAK,UAAU,IAAI,CAAC;YAAS,EAAE,OAAO,GAAG;gBAAE,OAAO;YAAI;QAAE;QAC1F,SAAS,SAAS,KAAK,EAAE;YAAE,IAAI;gBAAE,KAAK,SAAS,CAAC,QAAQ,CAAC;YAAS,EAAE,OAAO,GAAG;gBAAE,OAAO;YAAI;QAAE;QAC7F,SAAS,KAAK,MAAM,EAAE;YAAE,OAAO,IAAI,GAAG,QAAQ,OAAO,KAAK,IAAI,MAAM,OAAO,KAAK,EAAE,IAAI,CAAC,WAAW,SAAS;QAAE;QAC7G,KAAK,AAAC,CAAA,YAAY,UAAU,KAAK,CAAC,SAAS,cAAc,EAAE,CAAA,EAAG,IAAI;IACtE;AACJ;AAKO,MAAM;IACT,OAAO,UAAU,IAAI,EAAE;QACnB,OAAO,gCAAU,IAAI,EAAE,KAAK,GAAG,KAAK,GAAG,YAAa;YAChD,8BAA8B;YAC9B,MAAM,WAAW,MAAM,MAAM;YAC7B,QAAQ,GAAG,CAAC;YACZ,MAAM,eAAe,MAAM,SAAS,IAAI;YACxC,QAAQ,GAAG,CAAC;YACZ,MAAM,kBAAkB,IAAI,YAAY,eAAe,CAAC,cAAc;YACtE,MAAM,SAAS,gBAAgB,aAAa,CAAC;YAC7C,OAAO;gBACH,UAAU,gBAAgB,aAAa,CAAC;gBACxC,QAAQ,WAAW,IAAI,IAAI,WAAW,KAAK,IAAI,KAAK,IAAI,OAAO,SAAS;YAC5E;QACJ;IACJ;IACA,OAAO,aAAa,MAAM,EAAE,IAAI,EAAE;QAC9B,OAAO,gCAAU,IAAI,EAAE,KAAK,GAAG,KAAK,GAAG,YAAa;YAChD,MAAM,UAAU,IAAI,SAAS,QAAQ;YACrC,QAAQ,GAAG,CAAC,kBAAkB;YAC9B,KAAK,MAAM,GAAG,QAAQ;QACtB,sCAAsC;QAC1C;IACJ;AACJ;;;ADrCA,IAAI,kCAAY,aAAS,UAAK,SAAS,IAAK,SAAU,OAAO,EAAE,UAAU,EAAE,CAAC,EAAE,SAAS,EAAE;IACrF,SAAS,MAAM,KAAK,EAAE;QAAE,OAAO,iBAAiB,IAAI,QAAQ,IAAI,EAAE,SAAU,OAAO,EAAE;YAAE,QAAQ;QAAQ,EAAE;IAAE;IAC3G,OAAO,IAAK,CAAA,KAAM,CAAA,IAAI,OAAM,CAAC,EAAG,SAAU,OAAO,EAAE,MAAM,EAAE;QACvD,SAAS,UAAU,KAAK,EAAE;YAAE,IAAI;gBAAE,KAAK,UAAU,IAAI,CAAC;YAAS,EAAE,OAAO,GAAG;gBAAE,OAAO;YAAI;QAAE;QAC1F,SAAS,SAAS,KAAK,EAAE;YAAE,IAAI;gBAAE,KAAK,SAAS,CAAC,QAAQ,CAAC;YAAS,EAAE,OAAO,GAAG;gBAAE,OAAO;YAAI;QAAE;QAC7F,SAAS,KAAK,MAAM,EAAE;YAAE,OAAO,IAAI,GAAG,QAAQ,OAAO,KAAK,IAAI,MAAM,OAAO,KAAK,EAAE,IAAI,CAAC,WAAW,SAAS;QAAE;QAC7G,KAAK,AAAC,CAAA,YAAY,UAAU,KAAK,CAAC,SAAS,cAAc,EAAE,CAAA,EAAG,IAAI;IACtE;AACJ;AAGO,MAAM;IACT,OAAO,SAAS,IAAI,EAAE,IAAI,EAAE,GAAG,EAAE;QAC7B,OAAO,gCAAU,IAAI,EAAE,KAAK,GAAG,KAAK,GAAG,YAAa;YAChD,QAAQ,GAAG,CAAC,yBAAyB;YACrC,MAAM,OAAO,MAAM,CAAA,GAAA,oCAAS,EAAE,SAAS,CAAC;YACxC,MAAM,cAAc,KAAK,QAAQ;YACjC,QAAQ,GAAG,CAAC;YACZ,QAAQ,GAAG,CAAC,KAAK,QAAQ,EAAE,KAAK,MAAM;YACtC,QAAQ,GAAG,CAAC;YACZ,KAAK,GAAG,CAAC,iBAAiB,CAAC;YAC3B,MAAM,oBAAoB,gBAAgB,IAAI,IAAI,gBAAgB,KAAK,IAAI,KAAK,IAAI,YAAY,OAAO,CAAC,SAAS,CAAC,IAAI,CAAC;YACvH,IAAI,YAAY,CAAC,mBAAmB,IAAI,UAAU;YAClD,MAAM,QAAQ,IAAI,CAAA,GAAA,8BAAI,AAAD;YACrB,MAAM,CAAA,GAAA,oCAAS,EAAE,YAAY,CAAC,KAAK,MAAM,EAAE;YAC3C,QAAQ,GAAG,CAAC,YAAY;YACxB,MAAM,SAAS,CAAC,IAAI,YAAY,CAAC;QACrC;IACJ;AACJ;;;AL7BA,IAAI,kCAAY,aAAS,UAAK,SAAS,IAAK,SAAU,OAAO,EAAE,UAAU,EAAE,CAAC,EAAE,SAAS,EAAE;IACrF,SAAS,MAAM,KAAK,EAAE;QAAE,OAAO,iBAAiB,IAAI,QAAQ,IAAI,EAAE,SAAU,OAAO,EAAE;YAAE,QAAQ;QAAQ,EAAE;IAAE;IAC3G,OAAO,IAAK,CAAA,KAAM,CAAA,IAAI,OAAM,CAAC,EAAG,SAAU,OAAO,EAAE,MAAM,EAAE;QACvD,SAAS,UAAU,KAAK,EAAE;YAAE,IAAI;gBAAE,KAAK,UAAU,IAAI,CAAC;YAAS,EAAE,OAAO,GAAG;gBAAE,OAAO;YAAI;QAAE;QAC1F,SAAS,SAAS,KAAK,EAAE;YAAE,IAAI;gBAAE,KAAK,SAAS,CAAC,QAAQ,CAAC;YAAS,EAAE,OAAO,GAAG;gBAAE,OAAO;YAAI;QAAE;QAC7F,SAAS,KAAK,MAAM,EAAE;YAAE,OAAO,IAAI,GAAG,QAAQ,OAAO,KAAK,IAAI,MAAM,OAAO,KAAK,EAAE,IAAI,CAAC,WAAW,SAAS;QAAE;QAC7G,KAAK,AAAC,CAAA,YAAY,UAAU,KAAK,CAAC,SAAS,cAAc,EAAE,CAAA,EAAG,IAAI;IACtE;AACJ;AAKA,IAAI;AACH,CAAA,SAAU,QAAQ,EAAE;IACjB,QAAQ,CAAC,WAAW,GAAG;AAC3B,CAAA,EAAG,kCAAa,CAAA,iCAAW,CAAC,CAAA;AACrB,MAAM;IACT,OAAO,kBAAkB,IAAI,EAAE,GAAG,EAAE;QAChC,OAAO,gCAAU,IAAI,EAAE,KAAK,GAAG,KAAK,GAAG,YAAa;YAChD,MAAM,WAAW,IAAI,QAAQ,CAAC,OAAO,CAAC,SAAS;YAC/C,QAAQ,GAAG,CAAC,yBAAyB;YACrC,OAAQ;gBACJ,KAAK,+BAAS,QAAQ;oBAClB,MAAM,CAAA,GAAA,uCAAY,EAAE,QAAQ,CAAC,MAAM,IAAI,YAAY,CAAC,QAAQ;oBAC5D,KAAM;gBACV;oBACI,KAAM;YACd;QACJ;IACJ;IACA,sCAAsC;IACtC,OAAO,cAAc,IAAI,EAAE,GAAG,EAAE;QAC5B,OAAO,gCAAU,IAAI,EAAE,KAAK,GAAG,KAAK,GAAG,YAAa;YAChD,QAAQ,GAAG,CAAC,iBAAiB;YAC7B,IAAI,OAAO,IAAI,EAAE;gBACb,CAAA,GAAA,yCAAe,AAAD,EAAE,UAAU,CAAC,CAAA,GAAA,yCAAS,EAAE,UAAU;gBAChD;YACJ,CAAC;YACD,IAAI,IAAI,QAAQ,IAAI,KAAK,YAAY,EACjC;YAEJ,IAAI,IAAI,QAAQ,CAAC,UAAU,CAAC,SACxB,MAAM,0CAAO,iBAAiB,CAAC,MAAM;YAEzC,IAAK,IAAI,IAAI,GAAG,IAAI,IAAI,UAAU,CAAC,MAAM,EAAE,IAAK;gBAC5C,MAAM,OAAO,IAAI,UAAU,CAAC,EAAE;gBAC9B,MAAM,0CAAO,aAAa,CAAC,MAAM;YACrC;QACJ;IACJ;IACA,yBAAyB;IACzB,OAAO,UAAU,IAAI,EAAE,GAAG,EAAE;QACxB,QAAQ,GAAG,CAAC,aAAa;QACzB,IAAI,OAAO,IAAI,EAAE;YACb,CAAA,GAAA,yCAAe,AAAD,EAAE,UAAU,CAAC,CAAA,GAAA,yCAAS,EAAE,UAAU;YAChD;QACJ,CAAC;QACD,KAAK,GAAG,CAAC,iBAAiB,CAAC;QAC3B,MAAM,QAAQ,IAAI,UAAU;QAC5B,MAAM,OAAO,CAAC,CAAC,OAAS;YACpB,0CAAO,UAAU,CAAC,MAAM;QAC5B;IACJ;IACA,OAAO,WAAW,IAAI,EAAE,IAAI,EAAE;QAC1B,IAAI,KAAK,QAAQ,IAAI,KAAK,YAAY,EAAE;YACpC,0CAAO,SAAS,CAAC,MAAM;YACvB,CAAA,GAAA,yCAAgB,EAAE,KAAK,CAAC,MAAM;QAClC,CAAC;IACL;IACA,OAAO,iBAAiB,IAAI,EAAE,IAAI,EAAE;QAChC,0CAAO,SAAS,CAAC,MAAM;QACvB,CAAA,GAAA,yCAAgB,EAAE,KAAK,CAAC,MAAM;IAClC;IACA,OAAO,UAAU,IAAI,EAAE;QACnB,QAAQ,GAAG,CAAC,aAAa,KAAK,gBAAgB;QAC9C,IAAI,OAAO,IAAI;QACf,IAAI,SAAS,CAAA,GAAA,yCAAY,EAAE,gBAAgB;QAC3C,QAAQ,GAAG,CAAC,OAAO,cAAc;QACjC,KAAK,gBAAgB,CAAC,OAAO,CAAC,CAAC,WAAa;YACxC,MAAM,UAAU,KAAK,MAAM,CAAC,UAAU,CAAC;YACvC,IAAI,SACA,QAAQ,OAAO,CAAC,CAAC,MAAQ;gBACrB,KAAK,GAAG,CAAC;YACb;QACR;QACA,KAAK,OAAO,CAAC,CAAC,MAAQ;YAClB,IAAI,IAAI;YACR,MAAM,UAAU,AAAC,CAAA,KAAK,KAAK,MAAM,CAAC,GAAG,CAAC,IAAG,MAAO,IAAI,IAAI,OAAO,KAAK,IAAI,KAAK,IAAI,GAAG,SAAS,CAAC,IAAI,CAAC;YACnG,QAAQ,GAAG,CAAC;YACZ,IAAI,SAAS;gBACT,0CAAO,gBAAgB,CAAC,MAAM;gBAC7B,CAAA,KAAK,SAAS,aAAa,CAAC,CAAC,UAAU,EAAE,IAAI,EAAE,CAAC,CAAA,MAAO,IAAI,IAAI,OAAO,KAAK,KAAa,GAAG,WAAW,CAAC;YAC5G,CAAC;QACL;QACA,CAAA,GAAA,yCAAa,AAAD,EAAE,mBAAmB,CAAC,0CAAO,SAAS,CAAC,SAAS,QAAQ;QACpE,KAAK,gBAAgB,CAAC,KAAK;IAC/B;IACA,OAAO,UAAU,OAAO,EAAE;QACtB,MAAM,SAAS,QAAQ,YAAY,CAAC;QACpC,IAAI,UAAU,IAAI,EAAE;YAChB,CAAA,GAAA,yCAAe,AAAD,EAAE,UAAU,CAAC,CAAA,GAAA,yCAAS,EAAE,KAAK;YAC3C,OAAO;QACX,CAAC;QACD,OAAO;IACX;IACA,OAAO,mBAAmB,MAAM,EAAE;QAC9B,MAAM,UAAU,SAAS,aAAa,CAAC,CAAC,UAAU,EAAE,OAAO,EAAE,CAAC;QAC9D,IAAI,WAAW,IAAI,EACf,CAAA,GAAA,yCAAe,AAAD,EAAE,UAAU,CAAC,CAAA,GAAA,yCAAU,AAAD,EAAE,KAAK;QAE/C,OAAO;IACX;AACJ;;ADjHA;AQAA;AACO,MAAM;IACT,YAAY,IAAI,CAAE;QACd,IAAI,CAAC,IAAI,GAAG;QACZ,IAAI,CAAC,UAAU,GAAG,SAAS,aAAa,CAAC;QACzC,IAAI,CAAC,UAAU,GAAG,SAAS,aAAa,CAAC;IAC7C;IACA,IAAI,eAAe;QACf,OAAO,SAAS,aAAa;IACjC;IACA,kBAAkB,OAAO,EAAE;QACvB,IAAI,QAAQ,YAAY,CAAC,cAAc,IAAI,EACvC;QAEJ,MAAM,MAAM,OAAO,MAAM,CAAC,eAAe,CAAC,IAAI,YAAY,GAAG,CAAC,EAAE,CAAC,QAAQ;QACzE,QAAQ,YAAY,CAAC,WAAW;QAChC,IAAI,CAAC,IAAI,CAAC,MAAM,CAAC,GAAG,CAAC,KAAK,QAAQ,SAAS,CAAC,IAAI;IACpD;IACA,gBAAgB;QACZ,OAAO,IAAI,CAAC,UAAU;IAC1B;IACA,cAAc,OAAO,EAAE;QACnB,IAAI,WAAW,IAAI,EAAE;YACjB,CAAA,GAAA,yCAAe,AAAD,EAAE,UAAU,CAAC,CAAA,GAAA,yCAAS,EAAE,UAAU;YAChD;QACJ,CAAC;QACD,IAAI,CAAC,UAAU,GAAG;IACtB;AACJ;;;AC5BA,6DAA6D;AAC7D,yDAAyD;AAClD,MAAM;IACT,YAAY,IAAI,CAAE;QACd,IAAI,CAAC,IAAI,GAAG;QACZ,IAAI,CAAC,OAAO,GAAG,IAAI;QACnB,wCAAwC;QACxC,IAAI,CAAC,UAAU,GAAG,IAAI;QACtB,IAAI,CAAC,MAAM,GAAG,IAAI;QAClB,IAAI,CAAC,gBAAgB,GAAG,IAAI,KAAK,8BAA8B;IACnE;IACA,UAAU,GAAG,EAAE;QACX,OAAO,IAAI,CAAC,OAAO,CAAC,GAAG,CAAC;IAC5B;IACA,UAAU,GAAG,EAAE,KAAK,EAAE;QAClB,IAAI,CAAC,OAAO,CAAC,GAAG,CAAC,KAAK;IAC1B;IACA,gBAAgB,MAAM,EAAE,EAAE,EAAE;QACxB,QAAQ,GAAG,CAAC;QACZ,QAAQ,GAAG,CAAC,QAAQ;QACpB,QAAQ,GAAG,CAAC;QACZ,IAAI,IAAI,CAAC,UAAU,CAAC,GAAG,CAAC,SAAS;YAC7B,MAAM,UAAU,IAAI,CAAC,UAAU,CAAC,GAAG,CAAC;YACpC,IAAI,SACA,QAAQ,GAAG,CAAC;QAEpB,OACK;YACD,MAAM,OAAO,IAAI;YACjB,KAAK,GAAG,CAAC;YACT,IAAI,CAAC,UAAU,CAAC,GAAG,CAAC,QAAQ;QAChC,CAAC;QACD,QAAQ,GAAG,CAAC,IAAI,CAAC,UAAU;IAC/B;IACA,WAAW,MAAM,EAAE;QACf,OAAO,IAAI,CAAC,UAAU,CAAC,GAAG,CAAC;IAC/B;AACJ;;;ACrCA;ACAO,MAAM;IACT,YAAY,KAAK,EAAE,IAAI,EAAE,GAAG,CAAE;QAC1B,IAAI,CAAC,KAAK,GAAG;QACb,IAAI,CAAC,IAAI,GAAG;QACZ,IAAI,CAAC,GAAG,GAAG;QACX,IAAI,CAAC,IAAI,CAAC,MAAM,CAAC,SAAS,CAAC,IAAI,CAAC,GAAG,EAAE,IAAI;QACzC,IAAI,CAAC,KAAK,GAAG;IACjB;IACA,IAAI,OAAO;QACP,OAAO,IAAI,CAAC,KAAK;IACrB;IACA,IAAI,KAAK,KAAK,EAAE;QACZ,IAAI,CAAC,QAAQ,CAAC;QACd,QAAQ,GAAG,CAAC;QACZ,QAAQ,GAAG,CAAC,IAAI,CAAC,EAAE,EAAE,IAAI,CAAC,KAAK,EAAE;QACjC,QAAQ,GAAG,CAAC;IAChB;IACA,IAAI,KAAK;QACL,OAAO,IAAI,CAAC,GAAG;IACnB;IACA,SAAS,KAAK,EAAE;QACZ,IAAI,CAAC,KAAK,GAAG;QACb,IAAI,CAAC,IAAI,CAAC,MAAM,CAAC,SAAS,CAAC,IAAI,CAAC,GAAG,EAAE,IAAI;QACzC,IAAI,CAAC,IAAI,CAAC,gBAAgB,CAAC,GAAG,CAAC,IAAI,CAAC,GAAG;IAC3C;AACJ;;;ADvBO,MAAM;IACT,YAAY,IAAI,CAAE;QACd,IAAI,CAAC,IAAI,GAAG;IAChB;IACA,YAAY,KAAK,EAAE,YAAY,EAAE;QAC7B,MAAM,QAAQ,IAAI,CAAA,GAAA,yCAAI,EAAE,OAAO,IAAI,CAAC,IAAI,EAAE;QAC1C,OAAO;IACX;IACA,WAAW,IAAI,EAAE,YAAY,EAAE;QAC3B,MAAM,QAAQ,IAAI,CAAA,GAAA,yCAAa,EAAE,MAAM,IAAI,CAAC,IAAI,EAAE;QAClD,OAAO;IACX;AACJ;;;AVdA,IAAI,kCAAY,aAAS,UAAK,SAAS,IAAK,SAAU,OAAO,EAAE,UAAU,EAAE,CAAC,EAAE,SAAS,EAAE;IACrF,SAAS,MAAM,KAAK,EAAE;QAAE,OAAO,iBAAiB,IAAI,QAAQ,IAAI,EAAE,SAAU,OAAO,EAAE;YAAE,QAAQ;QAAQ,EAAE;IAAE;IAC3G,OAAO,IAAK,CAAA,KAAM,CAAA,IAAI,OAAM,CAAC,EAAG,SAAU,OAAO,EAAE,MAAM,EAAE;QACvD,SAAS,UAAU,KAAK,EAAE;YAAE,IAAI;gBAAE,KAAK,UAAU,IAAI,CAAC;YAAS,EAAE,OAAO,GAAG;gBAAE,OAAO;YAAI;QAAE;QAC1F,SAAS,SAAS,KAAK,EAAE;YAAE,IAAI;gBAAE,KAAK,SAAS,CAAC,QAAQ,CAAC;YAAS,EAAE,OAAO,GAAG;gBAAE,OAAO;YAAI;QAAE;QAC7F,SAAS,KAAK,MAAM,EAAE;YAAE,OAAO,IAAI,GAAG,QAAQ,OAAO,KAAK,IAAI,MAAM,OAAO,KAAK,EAAE,IAAI,CAAC,WAAW,SAAS;QAAE;QAC7G,KAAK,AAAC,CAAA,YAAY,UAAU,KAAK,CAAC,SAAS,cAAc,EAAE,CAAA,EAAG,IAAI;IACtE;AACJ;AAKO,MAAM;IACT,aAAc;QACV,IAAI,CAAC,GAAG,GAAG,IAAI,CAAA,GAAA,yCAAO,EAAE,IAAI;QAC5B,IAAI,CAAC,MAAM,GAAG,IAAI,CAAA,GAAA,yCAAK,EAAE,IAAI;QAC7B,IAAI,CAAC,MAAM,GAAG,IAAI,CAAA,GAAA,wCAAK,EAAE,IAAI;QAC7B,IAAI,CAAC,MAAM,GAAG,CAAC;QACf,IAAI,CAAC,EAAE,GAAG;QACV,QAAQ,GAAG,CAAC;IAChB;IACA,YAAY;IACZ,IAAI,SAAS;QACT,OAAO,IAAI,CAAC,MAAM,CAAC,MAAM;IAC7B;IACA,IAAI,mBAAmB;QACnB,OAAO,IAAI,CAAC,MAAM,CAAC,gBAAgB;IACvC;IACA,iCAAiC;IACjC,SAAS,EAAE,EAAE;QACT,OAAO,gCAAU,IAAI,EAAE,KAAK,GAAG,KAAK,GAAG,YAAa;YAChD,IAAI,CAAC,EAAE,GAAG;YACV,QAAQ,GAAG,CAAC;YACZ,MAAM,CAAA,GAAA,gCAAK,EAAE,aAAa,CAAC,IAAI,EAAE,SAAS,cAAc,CAAC;QAC7D;IACJ;IACA,4BAA4B;IAC5B,2CAA2C;IAC3C,UAAU,EAAE,EAAE;QACV,OAAO,gCAAU,IAAI,EAAE,KAAK,GAAG,KAAK,GAAG,YAAa;YAChD,IAAI,CAAC,EAAE,GAAG;YACV,QAAQ,GAAG,CAAC,aAAa;YACzB,IAAI,CAAC,GAAG,CAAC,aAAa,CAAC,CAAA,GAAA,gCAAM,AAAD,EAAE,kBAAkB,CAAC;YACjD,QAAQ,GAAG,CAAC,IAAI,CAAC,GAAG,CAAC,aAAa;YAClC,uEAAuE;YACvE,6FAA6F;YAC7F,IAAI;YACJ,CAAA,GAAA,gCAAM,AAAD,EAAE,SAAS,CAAC,IAAI,EAAE,IAAI,CAAC,GAAG,CAAC,aAAa;QACjD;IACJ;IACA,QAAQ;QACJ,OAAO,IAAI,CAAC,EAAE;IAClB;AACJ;AACA,MAAM,6BAAO,IAAI;IACjB,2CAAe;;ADxDf","sources":["dist/index.js","dist/components/blah.js","dist/components/dom/AppDOM.js","dist/components/error/error.js","dist/components/parser/ElementParser.js","dist/components/signals/CreateFunction.js","dist/components/dom/activeElement.js","dist/components/dom/CustomElement.js","dist/components/parser/FileParser.js","dist/components/memory/DOMState.js","dist/components/memory/Memory.js","dist/components/signals/signal.js","dist/components/signals/state.js"],"sourcesContent":["export { default as Blah } from './components/blah';\n","var __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\nimport { AppDOM } from \"./dom/AppDOM\";\nimport { DOMState } from \"./memory/DOMState\";\nimport { Memory } from \"./memory/Memory\";\nimport { Signal } from \"./signals/signal\";\nexport class Blah {\n    constructor() {\n        this.dom = new DOMState(this);\n        this.memory = new Memory(this);\n        this.signal = new Signal(this);\n        this.script = {};\n        this.id = '';\n        console.log('Sara');\n    }\n    // ? Getters\n    get domMap() {\n        return this.memory.domMap;\n    }\n    get updatedVariables() {\n        return this.memory.updatedVariables;\n    }\n    // ? For starting the Application\n    StartApp(id) {\n        return __awaiter(this, void 0, void 0, function* () {\n            this.id = id;\n            console.log('StartApp');\n            yield AppDOM.createDOMTree(this, document.getElementById(id));\n        });\n    }\n    // ? For parsing .blah files\n    // ? This is the entry point for the parser\n    startBlah(id) {\n        return __awaiter(this, void 0, void 0, function* () {\n            this.id = id;\n            console.log('startBlah', id);\n            this.dom.setInitialDOM(AppDOM.getElementByBlahID(id));\n            console.log(this.dom.getInitialDOM());\n            // for (let i = 0; i < this.dom.getInitialDOM().children.length; i++) {\n            //     await AppDOM.createDOMTree(this, this.dom.getInitialDOM().children[i] as HTMLElement);\n            // }\n            AppDOM.createDOM(this, this.dom.getInitialDOM());\n        });\n    }\n    getID() {\n        return this.id;\n    }\n}\nconst blah = new Blah();\nexport default blah;\n","var __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\nimport { ErrorTypes, ValidationError } from \"../error/error\";\nimport { ElementParserRoot } from \"../parser/ElementParser\";\nimport { ActiveElement } from \"./activeElement\";\nimport { CustomElement } from \"./CustomElement\";\nvar NodeType;\n(function (NodeType) {\n    NodeType[\"TEMPLATE\"] = \"TEMPLATE\";\n})(NodeType || (NodeType = {}));\nexport class AppDOM {\n    static handleCustomNodes(blah, dom) {\n        return __awaiter(this, void 0, void 0, function* () {\n            const nodeName = dom.nodeName.replace(\"BLAH.\", \"\");\n            console.log(\"Handling Custom Nodes\", nodeName);\n            switch (nodeName) {\n                case NodeType.TEMPLATE:\n                    yield CustomElement.Template(blah, dom.getAttribute('src'), dom);\n                    break;\n                default:\n                    break;\n            }\n        });\n    }\n    // ? Building and extracting the files\n    static createDOMTree(blah, dom) {\n        return __awaiter(this, void 0, void 0, function* () {\n            console.log('createDOMTree', dom);\n            if (dom == null) {\n                ValidationError.throwError(ErrorTypes.NO_ELEMENT);\n                return;\n            }\n            if (dom.nodeType != Node.ELEMENT_NODE) {\n                return;\n            }\n            if (dom.nodeName.startsWith(\"BLAH\")) {\n                yield AppDOM.handleCustomNodes(blah, dom);\n            }\n            for (let i = 0; i < dom.childNodes.length; i++) {\n                const node = dom.childNodes[i];\n                yield AppDOM.createDOMTree(blah, node);\n            }\n        });\n    }\n    // ? Parsing the elements\n    static createDOM(blah, dom) {\n        console.log('createDOM', dom);\n        if (dom == null) {\n            ValidationError.throwError(ErrorTypes.NO_ELEMENT);\n            return;\n        }\n        blah.dom.initializeElement(dom);\n        const nodes = dom.childNodes;\n        nodes.forEach((node) => {\n            AppDOM.handleNode(blah, node);\n        });\n    }\n    static handleNode(blah, node) {\n        if (node.nodeType == Node.ELEMENT_NODE) {\n            AppDOM.createDOM(blah, node);\n            ElementParserRoot.parse(node, blah);\n        }\n    }\n    static handleNodeUpdate(blah, node) {\n        AppDOM.createDOM(blah, node);\n        ElementParserRoot.parse(node, blah);\n    }\n    static updateDOM(blah) {\n        console.log('updateDOM', blah.updatedVariables);\n        let doms = new Set();\n        let active = ActiveElement.getActiveElement();\n        console.log(active.selectionStart);\n        blah.updatedVariables.forEach((variable) => {\n            const domsSet = blah.memory.linkedDOMs(variable);\n            if (domsSet)\n                domsSet.forEach((dom) => {\n                    doms.add(dom);\n                });\n        });\n        doms.forEach((dom) => {\n            var _a, _b;\n            const element = (_a = blah.domMap.get(dom)) === null || _a === void 0 ? void 0 : _a.cloneNode(true);\n            console.log(element);\n            if (element) {\n                AppDOM.handleNodeUpdate(blah, element);\n                (_b = document.querySelector(`[blah-id=\"${dom}\"]`)) === null || _b === void 0 ? void 0 : _b.replaceWith(element);\n            }\n        });\n        ActiveElement.handleActiveElement(AppDOM.getBlahID(active), active, blah);\n        blah.updatedVariables.clear();\n    }\n    static getBlahID(element) {\n        const blahID = element.getAttribute('blah-id');\n        if (blahID == null) {\n            ValidationError.throwError(ErrorTypes.NO_ID);\n            return '';\n        }\n        return blahID;\n    }\n    static getElementByBlahID(blahID) {\n        const element = document.querySelector(`[blah-id=\"${blahID}\"]`);\n        if (element == null) {\n            ValidationError.throwError(ErrorTypes.NO_ID);\n        }\n        return element;\n    }\n}\n","export var ErrorTypes;\n(function (ErrorTypes) {\n    ErrorTypes[\"NO_ELEMENT\"] = \"ERROR: No element with id \";\n    ErrorTypes[\"NO_SARA\"] = \"ERROR: No Sara instance found\";\n    ErrorTypes[\"NO_SARA_ID\"] = \"ERROR: No Sara id found\";\n    ErrorTypes[\"NO_SARA_DOM\"] = \"ERROR: No Sara DOM found\";\n    ErrorTypes[\"NO_SARA_DOM_ELEMENT\"] = \"ERROR: No Sara DOM element found\";\n    ErrorTypes[\"NO_ID\"] = \"NO_ID\";\n})(ErrorTypes || (ErrorTypes = {}));\nexport class ValidationError {\n    constructor() {\n    }\n    static throwError(errorType) {\n        throw new Error(errorType);\n    }\n}\n","import { AppDOM } from \"../dom/AppDOM\";\nimport { CreateFunction } from \"../signals/CreateFunction\";\nclass ElementParserRoot {\n    static parse(element, root) {\n        console.log(\"ElementParserRoot.parse\", element, root);\n        ElementParserRoot.parseAttribute(element, root);\n        ElementParserRoot.parseVariable(element, root);\n    }\n    static handleActiveDOMUpdate(blahID) {\n        const element = AppDOM.getElementByBlahID(blahID);\n    }\n    static parseAttribute(element, root) {\n        const attributes = element.attributes;\n        console.log(element, attributes);\n        for (let i = 0; i < attributes.length; i++) {\n            let attribName = attributes[i].name;\n            let attribValue = attributes[i].value;\n            if (attribName.startsWith(\"@\")) {\n                let eventName = attribName.replace(\"@\", \"\");\n                console.log(eventName, \" added as event listener\");\n                element.addEventListener(eventName, (e) => {\n                    console.log(\"Event Triggered\");\n                    console.log(attribValue);\n                    const value = root.memory.getSignal(attribValue.trim());\n                    if (value instanceof CreateFunction) {\n                        console.log(\"Function Called\");\n                        value.runFunction([\n                            e\n                        ]);\n                    }\n                    AppDOM.updateDOM(root);\n                });\n            }\n            const variable = attribValue.match(this.variableRegex);\n            console.log(variable);\n            if (variable != null) {\n                variable.forEach((variable) => {\n                    var _a, _b, _c;\n                    const variableName = variable.replace(this.variableRegex, '$1');\n                    const variableValue = root.memory.getSignal(variableName.trim());\n                    attribValue = attribValue.replace(variable, (_b = (_a = variableValue === null || variableValue === void 0 ? void 0 : variableValue.data) === null || _a === void 0 ? void 0 : _a.toString()) !== null && _b !== void 0 ? _b : '');\n                    root.memory.linkSignalToDOM(variableName.trim(), (_c = element.getAttribute(\"blah-id\")) !== null && _c !== void 0 ? _c : '');\n                });\n                element.setAttribute(attribName, attribValue);\n            }\n        }\n    }\n    static parseVariable(element, root) {\n        var _a;\n        const textNode = element.childNodes[0];\n        if ((textNode === null || textNode === void 0 ? void 0 : textNode.nodeType) != Node.TEXT_NODE) {\n            return;\n        }\n        let text = (_a = textNode.textContent) !== null && _a !== void 0 ? _a : '';\n        const variable = text.match(this.variableRegex);\n        console.log(variable);\n        if (variable != null) {\n            variable.forEach((variable) => {\n                var _a, _b, _c;\n                const variableName = variable.replace(this.variableRegex, '$1');\n                const variableValue = root.memory.getSignal(variableName.trim());\n                console.log(variableName, variableValue, root.memory);\n                text = text.replace(variable, (_b = (_a = variableValue === null || variableValue === void 0 ? void 0 : variableValue.data) === null || _a === void 0 ? void 0 : _a.toString()) !== null && _b !== void 0 ? _b : '');\n                console.log(variableName);\n                root.memory.linkSignalToDOM(variableName.trim(), (_c = element.getAttribute(\"blah-id\")) !== null && _c !== void 0 ? _c : '');\n            });\n        }\n        textNode.textContent = text;\n    }\n}\nElementParserRoot.variableRegex = /{{(.*?)}}/g;\nElementParserRoot.bracketRegex = /{(.*?)}/g;\nexport { ElementParserRoot };\n","export class CreateFunction {\n    constructor(value, root, uid) {\n        this.value = value;\n        this.root = root;\n        this.uid = uid;\n        this.root.memory.setSignal(this.uid, this);\n        this.value = value;\n    }\n    get data() {\n        return this.value();\n    }\n    runFunction([...args]) {\n        this.value(...args);\n    }\n    set data(value) {\n        this.setValue(value);\n        this.root.memory.setSignal(this.uid, this);\n        console.log('====================================');\n        console.log(this.id, this.value, \"Updated\");\n        console.log('====================================');\n    }\n    get id() {\n        return this.uid;\n    }\n    setValue(value) {\n        this.value = value;\n        this.root.updatedVariables.add(this.uid);\n    }\n}\n","import { AppDOM } from \"./AppDOM\";\nvar ActiveElementTagName;\n(function (ActiveElementTagName) {\n    ActiveElementTagName[\"INPUT\"] = \"INPUT\";\n    ActiveElementTagName[\"TEXTAREA\"] = \"TEXTAREA\";\n    ActiveElementTagName[\"SELECT\"] = \"SELECT\";\n    ActiveElementTagName[\"BUTTON\"] = \"BUTTON\";\n})(ActiveElementTagName || (ActiveElementTagName = {}));\nexport class ActiveElement {\n    static getActiveElement() {\n        return document.activeElement;\n    }\n    static handleActiveElement(id, clone, root) {\n        const element = AppDOM.getElementByBlahID(id);\n        element.focus();\n        switch (element.tagName) {\n            case ActiveElementTagName.TEXTAREA:\n            case ActiveElementTagName.INPUT:\n                ActiveElement.handleInput(element, clone);\n                break;\n            default:\n                break;\n        }\n    }\n    static handleInput(element, clone) {\n        // element.select();\n        const caretPosition = clone.selectionStart;\n        element.setSelectionRange(caretPosition, caretPosition);\n        console.log('====================================');\n        console.log(element.selectionStart, element.selectionEnd);\n        console.log('====================================');\n    }\n}\n","var __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\nimport { Blah } from \"../blah\";\nimport { FileParser } from \"../parser/FileParser\";\nexport class CustomElement {\n    static Template(blah, path, dom) {\n        return __awaiter(this, void 0, void 0, function* () {\n            console.log(\"Template Hot Reloaded\", path);\n            const data = yield FileParser.parseFile(path);\n            const templateDiv = data.template;\n            console.log('====================================');\n            console.log(data.template, data.script);\n            console.log('====================================');\n            blah.dom.initializeElement(dom);\n            const templateDuplicate = templateDiv === null || templateDiv === void 0 ? void 0 : templateDiv.content.cloneNode(true);\n            dom.insertBefore(templateDuplicate, dom.firstChild);\n            const _blah = new Blah();\n            yield FileParser.scriptRunner(data.script, _blah);\n            console.log(\"Template\", _blah);\n            _blah.startBlah(dom.getAttribute('blah-id'));\n        });\n    }\n}\n","var __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\n/**\n * FileParser\n * @description Parses the .blah files to build the dom and run scripts\n */\nexport class FileParser {\n    static parseFile(path) {\n        return __awaiter(this, void 0, void 0, function* () {\n            // console.log(process.cwd());\n            const template = yield fetch(path);\n            console.log(template);\n            const templateText = yield template.text();\n            console.log(templateText);\n            const templateElement = new DOMParser().parseFromString(templateText, 'text/html');\n            const script = templateElement.querySelector('script');\n            return {\n                template: templateElement.querySelector('template'),\n                script: script === null || script === void 0 ? void 0 : script.innerHTML\n            };\n        });\n    }\n    static scriptRunner(script, blah) {\n        return __awaiter(this, void 0, void 0, function* () {\n            const _script = new Function(\"blah\", script);\n            console.log(\"Running Script\", _script);\n            blah.script = _script(blah);\n            // console.log(\"Running Script\", blah)\n        });\n    }\n}\n","import { ErrorTypes, ValidationError } from \"../error/error\";\nexport class DOMState {\n    constructor(blah) {\n        this.blah = blah;\n        this.initialDOM = document.createElement('div');\n        this.currentDOM = document.createElement('div');\n    }\n    get getActiveDOM() {\n        return document.activeElement;\n    }\n    initializeElement(element) {\n        if (element.getAttribute('blah-id') != null) {\n            return;\n        }\n        const uid = window.crypto.getRandomValues(new Uint32Array(1))[0].toString();\n        element.setAttribute('blah-id', uid);\n        this.blah.domMap.set(uid, element.cloneNode(true));\n    }\n    getInitialDOM() {\n        return this.initialDOM;\n    }\n    setInitialDOM(element) {\n        if (element == null) {\n            ValidationError.throwError(ErrorTypes.NO_ELEMENT);\n            return;\n        }\n        this.initialDOM = element;\n    }\n}\n","// ? This class is used to store the state of the application\n// ? It is used to store the signals and the DOM elements\nexport class Memory {\n    constructor(root) {\n        this.root = root;\n        this.signals = new Map();\n        // Track the signals used in DOM Element\n        this.signalMaps = new Map();\n        this.domMap = new Map();\n        this.updatedVariables = new Set; // Track the updated variables\n    }\n    getSignal(key) {\n        return this.signals.get(key);\n    }\n    setSignal(key, value) {\n        this.signals.set(key, value);\n    }\n    linkSignalToDOM(signal, id) {\n        console.log('=========Linking Signal to DOM==============');\n        console.log(signal, id);\n        console.log('====================================');\n        if (this.signalMaps.has(signal)) {\n            const signals = this.signalMaps.get(signal);\n            if (signals) {\n                signals.add(id);\n            }\n        }\n        else {\n            const doms = new Set();\n            doms.add(id);\n            this.signalMaps.set(signal, doms);\n        }\n        console.log(this.signalMaps);\n    }\n    linkedDOMs(signal) {\n        return this.signalMaps.get(signal);\n    }\n}\n","import { CreateFunction } from \"./CreateFunction\";\nimport { State } from \"./state\";\nexport class Signal {\n    constructor(root) {\n        this.root = root;\n    }\n    createState(value, variableName) {\n        const state = new State(value, this.root, variableName);\n        return state;\n    }\n    createHook(func, variableName) {\n        const state = new CreateFunction(func, this.root, variableName);\n        return state;\n    }\n}\n","export class State {\n    constructor(value, root, uid) {\n        this.value = value;\n        this.root = root;\n        this.uid = uid;\n        this.root.memory.setSignal(this.uid, this);\n        this.value = value;\n    }\n    get data() {\n        return this.value;\n    }\n    set data(value) {\n        this.setValue(value);\n        console.log('====================================');\n        console.log(this.id, this.value, \"Updated\");\n        console.log('====================================');\n    }\n    get id() {\n        return this.uid;\n    }\n    setValue(value) {\n        this.value = value;\n        this.root.memory.setSignal(this.uid, this);\n        this.root.updatedVariables.add(this.uid);\n    }\n}\n"],"names":[],"version":3,"file":"index.js.map"}